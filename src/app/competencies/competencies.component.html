<div class="k-profile-container">
    <app-k-profile></app-k-profile> <!-- ðŸ“Œ IntÃ©gration du composant ici -->

    <div class="header">
      <h2>K-Profile</h2>
      <div class="bell-icon">ðŸ””</div>
      <div class="actions">
        <button class="btn-cancel">Annuler</button>
        <button class="btn-save">Enregistrer</button>
      </div>
    </div>

    <div class="competencies-section">
      <h3>Mes CompÃ©tences</h3>
      <p class="criteria">Mes critÃ¨res de recherche</p>
      <div class="section-description">
        Choisissez le secteur de compÃ©tences qui correspond Ã  votre domaine d'expertise 
        <span class="hint">(Choisissez 3 maximum)</span>
      </div>

      <div class="sectors-grid">
        <div *ngFor="let sector of sectors" class="sector-checkbox">
          <input 
            type="checkbox" 
            [id]="sector.id"
            [checked]="selectedSectors.includes(sector.id)"
            [disabled]="!selectedSectors.includes(sector.id) && selectedSectors.length >= 3"
            (change)="toggleSector(sector.id)">
          <label [for]="sector.id">{{ sector.name }}</label>
        </div>
      </div>

      <div class="selected-sectors-tags">
        <div *ngFor="let id of selectedSectors" class="sector-tag">
          {{ getSectorName(id) }}
          <button (click)="toggleSector(id)" class="remove-btn">Ã—</button>
        </div>
      </div>

      <div *ngIf="selectedSectors.includes('digital')" class="digital-section">
        <div class="competency-group">
          <div class="competency-header">
            Digital - IT
          </div>

          <div class="competencies-list">
            <div *ngFor="let comp of digitalCompetencies" class="competency-item">
              <div class="competency-main" 
                   [class.expanded]="isCompetencyExpanded(comp.id)"
                   (click)="comp.subCategories && toggleExpand(comp.id)">
                <div class="competency-title">
                  {{ comp.name }}
                  <span *ngIf="comp.subCategories" class="expand-icon">+</span>
                </div>
              </div>

              <div *ngIf="comp.subCategories && isCompetencyExpanded(comp.id)" 
                   class="sub-categories">
                <div *ngFor="let sub of comp.subCategories" class="sub-category">
                  {{ sub.name }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
